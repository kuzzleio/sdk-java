language: java
os: linux
sudo: required
services:
  - docker
jdk:
  - oraclejdk8
  - oraclejdk9
  - openjdk8
before_install:
  - sudo sysctl -w vm.max_map_count=262144
  - wget https://dl.google.com/go/go1.11.linux-amd64.tar.gz
  - sudo tar -C /usr/local -zxf go1.11.linux-amd64.tar.gz
install:
  - export PATH=$PATH:/usr/local/go/bin
script:
  - make
  - .ci/start_kuzzle.sh
  - cd features/java
  - gradle cucumber